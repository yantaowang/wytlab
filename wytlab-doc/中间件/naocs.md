1、nacos注册时候利用copyonwrite思想，具体做法就是在内存写一份，操作完成在刷新到内存注册表，
2、nacos服务器变化通过udp推送注册信息，同时还有客户端定时任务轮询兜底
3、集群服务健康检查，通过服务hash对机器数取模选择一台执行，单个节点执行服务检查
4、集群节点状态同步，通过定时任务向其他机器发送状态信息，同时每台服务能动态感知当前存活的节点个数
5、服务注册会把数据同步到其他节点
6、新增集群节点启动会从其他节点拉取信息同步
7、raft协议与zab区别
  1）raft:休眠时间到、给自己发起投票并发给其他节点，其他节点发送ack完成投票
     zab:每个节点都发起投票
  2)脑裂：各个分区选取主节点，大分区同步数据，小分区节点数量不满足节点数/2,无法同步数据
  3)数据库持久化用cp架构